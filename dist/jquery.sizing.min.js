/*! jQuery Sizing - v1.3 - 2012-07-09
* https://github.com/Solutions-Nitriques/jQuery-sizing
* Copyright (c) 2012 Deux Huit Huit; Licensed MIT */
(function(a,b){"use strict";var c=function(a,b){return!a||!b?0:a/b},d=function(b,c,d,e){var f=d/e,g=c,h=g*f;h<b&&(h=b,g=h*(1/f)),a(this).width(h).height(g)},e=function(b,c,d,e){var f=d/e,g=0,h=0;b>d&&(b=d),h=b,g=h*(1/f),a(this).width(h).height(g)},f=function(b,d,e,f,g){var h=0,i=0;if(f!=null||g!=null)b>f&&(b=f),d>g&&(d=g);e?(i=b,h=i*c(1,e),h<d&&(h=d,i=e*h)):(h=d,i=b),a(this).width(i).height(h)},g=function(b){var d=a.extend({},b,{width:null,height:null,reference:null,ratio:null,maxHeight:null,maxWidth:null}),e=d.height,f=d.width;return!d.reference||(f=a(d.reference).width(),e=a(d.reference).height()),e>d.maxHeight&&(e=d.maxHeight,f=d.maxHeight*c(1,d.ratio)),f>d.maxWidth&&(e=d.maxWidth*d.ratio,f=d.maxWidth),{width:f,height:e}},h=function(b){var c=g(b);a(this).width(c.w).height(c.h)},i=function(b){b&&b.reference?(b.width=a(b.reference).width(),b.height=a(b.reference).height()):b={width:a(window).width(),height:a(window).height(),reference:window},a(this).width(b.width).height(b.height)},j=function(b,c,d){var e=a(this),f=a.extend(f,{allowNegative:!0,left:"margin-left",top:"margin-top"},d),g=e.width(),h=e.height(),i=a.sdiv(b-g,2),j=a.sdiv(c-h,2);f.allowNegative||(i=i<0?0:i,j=j<0?0:j),f.left&&e.css(f.left,i),f.top&&e.css(f.top,j)},k=function(){var b=a(this),c={width:b.width(),height:b.height(),ratio:a.sdiv(b.width(),b.height())};return b.data("original-size",c),b},l=function(){return a(this).eq(0).data("original-size")},m=function(b,c){var d=a(this);return d&&d.length>=0&&a.isFunction(b)&&d.each(function(){b.apply(this,c)}),d},n=function(b){var c=a(this),d=c.children(),e=a.noop,f={factor:.98,wrapper:"span",wrapperClass:"one-liner",fx:"font-size",childSelector:null},g=function(b){var d=a.sdiv(c.width(),b.find(f.wrapper+"."+f.wrapperClass).outerWidth(!0));if(d!==0&&d!=null){var e=b.css("font-size"),g=parseFloat(e,10),h=e.replace(/[0-9]+/,"");b.css("font-size",g*d*f.factor+h)}},h=function(b){var d=c.width()-b.find(f.wrapper+"."+f.wrapperClass).outerWidth(!0),e=c.text().length;if(d!==0&&!isNaN(d)){var g=d>0?"+":"-";b.css("letter-spacing",g+a.sdiv(d*f.factor,e)+"px")}};!b||(f=a.extend(f,b)),!f.childSelector||(d=c.find(f.childSelector));switch(f.fx){case"font-size":e=g;break;case"letter-spacing":e=h;break;default:return console.log("[oneLiner] the `fx` parameter is not valid!"),this}c.css("overflow","hidden"),d.each(function(){var b=a(this);b.width(1e8),b.css("font-size",""),b.css("letter-spacing",""),b.find(".one-liner").length||b.html("<"+f.wrapper+' class="'+f.wrapperClass+'">'+b.html()+"</"+f.wrapper+">"),e.call(c,b),b.css("width","")}),c.css("overflow","")},o=function(b){var c=a(this),d=a.extend({prop:null,offset:null},b);d.prop||(d.prop=c.attr("data-prop")),d.offset||(d.offset=parseFloat(c.attr("data-offset")));if(d.prop&&d.offset){c.css(d.prop,"");var e=c.position()[d.prop],f=parseFloat(e,10);c.data("sizing-cur-offpos",e),c.css(d.prop,f+d.offset+"px")}};a.fn.extend({centerCropFit:function(){return m.call(this,j,arguments)},cloneSize:function(){return m.call(this,d,arguments)},fitHeight:function(){return m.call(this,d,arguments)},fitWidthOnly:function(){return m.call(this,e,arguments)},fit:function(){return m.call(this,f,arguments)},innerFit:function(){return m.call(this,h,arguments)},oneLiner:function(){return m.call(this,n,arguments)},saveOriginalSize:function(){return m.call(this,k,arguments)},getOriginalSize:l,offsetPosition:function(){return m.call(this,o,arguments)}}),a.extend({sdiv:c,innerFit:g})})(jQuery);