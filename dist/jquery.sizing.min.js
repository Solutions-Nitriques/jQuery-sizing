/*! jQuery Sizing - v2.0.0 - 2012-09-17
* https://github.com/Solutions-Nitriques/jQuery-sizing
* Copyright (c) 2012 Deux Huit Huit; Licensed MIT */
(function(a,b){"use strict";var c=a(window),d=Math,e="width",f="height",g="Width",h="Height",i="original-size",j=function(a,b){return!a||!b?0:a/b},k=function(a,b){return a==b?0:a>b?1:-1},l=function(a,b,c){return{width:a||0,height:b||0,ratio:c||j(a,b)}},m=function(b){var c=a(this);return b?c.width(b.width).height(b.height):l(c.width(),c.height())},n=function(b){var d=null;return!!b&&b.reference?d=l(a(b.reference).width(),a(b.reference).height()):!b||!b.width&&!b.height?d=l(c.width(),c.height()):d=l(b.width,b.height),d},o=function(b){var c=n(b);return a(this).size(c)},p=function(a,b,c,d,f,g){var h={},i=a===e?j(1,f):f,l=c,m=c*i;return k(m,d)===g&&(l=d*j(1,i),m=d),h[a]=l,h[b]=m,h},q=function(b,c,d){b=a.extend({width:null,height:null,reference:null,maxHeight:null,maxWidth:null,minWidth:null,minHeight:null,preferWidth:!0},b);var i=b.preferWidth?e:f,j=b.preferWidth?f:e,k=b.preferWidth?g:h,l=b.preferWidth?h:g,m=n(b);m=p(i,j,m[i],m[j],c,d);if(!!b.maxWidth&&m.width>b.maxWidth||b.maxHeight&&m.height>b.maxHeight)m=p(i,j,b["max"+k],b["max"+l],c,d);if(!!b.minWidth&&m.width<b.minWidth||!!b.minHeight&&m.height<b.minHeight)m=p(i,j,b["min"+k],b["min"+l],c,d);return m},r=function(a,b){return q(a,b,1)},s=function(a,b){return q(a,b,-1)},t=function(b,c){var d=c&&c.position;!d||(a.isPlainObject(d)||(d={position:c.position}),d.reference||(d.reference=c.reference),d.width||(d.width=c.width),d.height||(d.height=c.height),b.autoPosition(d))},u=function(b){var c=a(this),d=c.originalSize();return c.size(r(b,d.ratio)),t(c,b),c},v=function(b){var c=a(this),d=c.originalSize();return c.size(s(b,d.ratio)),t(c,b),c},w=function(b,c,d){var e={},f=a.extend(f,{position:"center",allowNegative:!0,left:"margin-left",top:"margin-top"},b),g=c.width-d.width,h=c.height-d.height,i=a.sdiv(g,2),j=a.sdiv(h,2);return~f.position.indexOf("top")?j=0:!~f.position.indexOf("bottom")||(j=h),~f.position.indexOf("left")?i=0:!~f.position.indexOf("right")||(i=g),f.allowNegative||(i=i<0?0:i,j=j<0?0:j),!f.left||(e[f.left]=i),!f.top||(e[f.top]=j),e},x=function(b){var c=a(this),d=c.size(),e=n(b),f=w(b,e,d);return c.css(f)},y=function(b){var c=a(this),d=a.extend({prop:null,offset:null},b);d.prop||(d.prop=c.attr("data-prop")),d.offset||(d.offset=parseFloat(c.attr("data-offset")));if(d.prop&&d.offset){c.css(d.prop,"");var e=c.position()[d.prop],f=parseFloat(e,10);c.data("sizing-cur-offpos",e),c.css(d.prop,f+d.offset+"px")}return c},z=function(b){var c=a(this).eq(0),d=c.size();return c.data(i,d),b?d:c},A=function(){var b=a(this).eq(0),c=b.data(i);return c||(c=z.call(b,!0)),c},B=function(){return a(this).data(i,null),this},C=function(b,c){var d=a(this);return!!d&&!!d.length&&a.isFunction(b)&&d.each(function(){b.apply(this,c)}),d};a.fn.extend({scaleToFill:function(){return C.call(this,o,arguments)},scaleAspectFit:function(){return C.call(this,u,arguments)},scaleAspectFill:function(){return C.call(this,v,arguments)},size:m,saveOriginalSize:function(a){return a===!0?z.call(this,!0):C.call(this,z,arguments)},clearOriginalSize:function(){return C.call(this,B,arguments)},originalSize:A,autoPosition:function(){return C.call(this,x,arguments)},offsetPosition:function(){return C.call(this,y,arguments)}}),a.extend({sdiv:j,size:l,sizing:{cloneSize:n,scaleAspect:q,aspectFit:r,aspectFill:s},positioning:{autoPosition:w}})})(jQuery);