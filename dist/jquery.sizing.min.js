/*! jQuery Sizing - v2.0.1 - 2013-09-24
* https://github.com/Solutions-Nitriques/jQuery-sizing
* Copyright (c) 2013 Deux Huit Huit; Licensed MIT */
(function(e,t){"use strict";e.isNumeric||(e.isNumeric=function(t){return!e.isNaN(t)});var n=e(window),r=Math,i="width",s="height",o="Width",u="Height",a="original-size",f=function(e,t){return!e||!t?0:e/t},l=function(e,t){return e==t?0:e>t?1:-1},c=function(e,t,n){return{width:e||0,height:t||0,ratio:n||f(e,t)}},h=function(t){var n=e(this);return t?n.width(t.width).height(t.height):c(n.width(),n.height())},p=function(t){var r=null;return!!t&&t.reference?r=c(e(t.reference).width(),e(t.reference).height()):!t||!t.width&&!t.height?r=c(n.width(),n.height()):r=c(t.width,t.height),r},d=function(t){var n=p(t);return e(this).size(n)},v=function(e,t,n,r,s,o){var u={},a=e===i?f(1,s):s,c=n,h=n*a;return l(h,r)===o&&(c=r*f(1,a),h=r),u[e]=c,u[t]=h,u},m=function(t,n,r){t=e.extend({width:null,height:null,reference:null,maxHeight:null,maxWidth:null,minWidth:null,minHeight:null,preferWidth:!0},t);var a=t.preferWidth?i:s,f=t.preferWidth?s:i,l=t.preferWidth?o:u,c=t.preferWidth?u:o,h=p(t);h=v(a,f,h[a],h[f],n,r);if(!!t.maxWidth&&h.width>t.maxWidth||t.maxHeight&&h.height>t.maxHeight)h=v(a,f,t["max"+l],t["max"+c],n,r);if(!!t.minWidth&&h.width<t.minWidth||!!t.minHeight&&h.height<t.minHeight)h=v(a,f,t["min"+l],t["min"+c],n,r);return h},g=function(e,t){return m(e,t,1)},y=function(e,t){return m(e,t,-1)},b=function(t,n){var r=n&&n.position;!r||(e.isPlainObject(r)||(r={position:n.position}),r.reference||(r.reference=n.reference),r.width||(r.width=n.width),r.height||(r.height=n.height),t.autoPosition(r))},w=function(t){var n=e(this),r=n.originalSize();return n.size(g(t,r.ratio)),b(n,t),n},E=function(t){var n=e(this),r=n.originalSize();return n.size(y(t,r.ratio)),b(n,t),n},S=function(t){var n=t;if(e.isNumeric(n)){n=parseInt(n,10);switch(n){case 1:n="top-left";break;case 2:n="top";break;case 3:n="top-right";break;case 4:n="left";break;case 5:n="center";break;case 6:n="right";break;case 7:n="bottom-left";break;case 8:n="bottom";break;case 9:n="bottom-right";break;default:n=null}}return n},x=function(t,n,r){var i={},s=e.extend(s,{position:"center",allowNegative:!0,left:"margin-left",top:"margin-top"},t),o=n.width-r.width,u=n.height-r.height,a=e.sdiv(o,2),f=e.sdiv(u,2);return s.position=S(s.position),~s.position.indexOf("top")?f=0:!~s.position.indexOf("bottom")||(f=u),~s.position.indexOf("left")?a=0:!~s.position.indexOf("right")||(a=o),s.allowNegative||(a=a<0?0:a,f=f<0?0:f),!s.left||(i[s.left]=a),!s.top||(i[s.top]=f),i},T=function(t){var n=e(this),r=n.size(),i=p(t),s=x(t,i,r);return n.css(s)},N=function(t){var n=e(this),r=e.extend({prop:null,offset:null},t);r.prop||(r.prop=n.attr("data-prop")),r.offset||(r.offset=parseFloat(n.attr("data-offset")));if(r.prop&&r.offset){n.css(r.prop,"");var i=n.position()[r.prop],s=parseFloat(i,10);n.data("sizing-cur-offpos",i),n.css(r.prop,s+r.offset+"px")}return n},C=function(t){var n=e(this).eq(0),r=n.size();return n.data(a,r),t?r:n},k=function(){var t=e(this).eq(0),n=t.data(a);return n||(n=C.call(t,!0)),n},L=function(){return e(this).data(a,null),this},A=function(t,n){var r=e(this);return!!r&&!!r.length&&e.isFunction(t)&&r.each(function(){t.apply(this,n)}),r};e.fn.extend({scaleToFill:function(){return A.call(this,d,arguments)},scaleAspectFit:function(){return A.call(this,w,arguments)},scaleAspectFill:function(){return A.call(this,E,arguments)},size:h,saveOriginalSize:function(e){return e===!0?C.call(this,!0):A.call(this,C,arguments)},clearOriginalSize:function(){return A.call(this,L,arguments)},originalSize:k,autoPosition:function(){return A.call(this,T,arguments)},offsetPosition:function(){return A.call(this,N,arguments)}}),e.extend({sdiv:f,size:c,sizing:{cloneSize:p,scaleAspect:m,aspectFit:g,aspectFill:y},positioning:{autoPosition:x,convertPosition:S}})})(jQuery);