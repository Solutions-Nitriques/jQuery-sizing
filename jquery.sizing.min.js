/*
* 	Sizing v1.2 - jQuery plugin
*
*	Copyright (c) 2011 Solutions Nitriques (http://www.nitriques.com/open-source/)
*	Licensed under the MIT (https://raw.github.com/Solutions-Nitriques/jQuery-sizing/master/LICENSE.txt)
*/
(function(g,b){function d(r,m,s,o){var q=s/o,p=m,n=p*q;if(n<r){n=r;p=n*(1/q)}g(this).width(n).height(p)}function h(r,m,s,o){var q=s/o,p=0,n=0;if(r>s){r=s}n=r;p=n*(1/q);g(this).width(n).height(p)}function i(r,m,q,s,o){var p=0,n=0;if(s!=b||o!=b){if(r>s){r=s}}if(!q){p=m;n=r}else{n=r;p=n*(1/q);if(p<m){p=m;n=q*p}else{}}g(this).width(n).height(p)}function l(m){if(m&&m.reference){m.width=g(m.reference).width();m.height=g(m.reference).height()}else{m={width:g(window).width(),height:g(window).height(),reference:window}}g(this).width(m.width).height(m.height)}function e(m,u,x){var v=g(this),n=g.extend(n,{allowNegative:true,left:"margin-left",top:"margin-top"},x),s=v.width(),q=v.height(),p=g.sdiv(m-s,2),r=g.sdiv(u-q,2);if(!n.allowNegative){p=p<0?0:p;r=r<0?0:r}if(n.left){v.css(n.left,p)}if(n.top){v.css(n.top,r)}}function j(){var m=g(this),n={width:m.width(),height:m.height(),ratio:g.sdiv(m.width(),m.height())};m.data("original-size",n);return m}function a(){return g(this).eq(0).data("original-size")}function k(o,m){var n=g(this);if(n&&n.length>=0&&g.isFunction(o)){n.each(function(){o.apply(this,m)})}return n}function f(m){var o=g(this),n=o.children(),q=g.noop,p={factor:0.98,wrapper:"span",wrapperClass:"one-liner",fx:"font-size",childSelector:null};function r(x){var v=g.sdiv(o.width(),x.find(p.wrapper+"."+p.wrapperClass).outerWidth(true));if(v!=0){var u=x.css("font-size"),w=parseFloat(u,10),t=u.replace(/[0-9]+/,"");x.css("font-size",((w*v)*p.factor)+t)}}function s(v){var u=o.width()-v.find(p.wrapper+"."+p.wrapperClass).outerWidth(true);length=o.text().length;if(u!=0){var t=u>0?"+":"-";v.css("letter-spacing",t+g.sdiv(u*p.factor,length)+"px")}}if(!!m){p=g.extend(p,m)}if(!!p.childSelector){n=o.find(p.childSelector)}switch(p.fx){case"font-size":q=r;break;case"letter-spacing":q=s;break;default:console.log("[oneLiner] the `fx` parameter is not valid!");return this}o.css("overflow","hidden");n.each(function(){var t=g(this);t.width(100000000);t.css("font-size","");t.css("letter-spacing","");if(!t.find(".one-liner").length){t.html("<"+p.wrapper+' class="'+p.wrapperClass+'">'+t.html()+"</"+p.wrapper+">")}q.call(o,t);t.css("width","")});o.css("overflow","")}function c(n){var p=g(this),q=g.extend({prop:null,offset:null},n);if(!q.prop){q.prop=p.attr("data-prop")}if(!q.offset){q.offset=parseFloat(p.attr("data-offset"))}if(q.prop&&q.offset){p.css(q.prop,"");var o=p.position()[q.prop],m=parseFloat(o,10);p.data("sizing-cur-offpos",o);p.css(q.prop,m+q.offset+"px")}else{}}g.fn.extend({centerCropFit:function(){return k.call(this,e,arguments)},cloneSize:l,fitHeight:d,fitWidthOnly:h,fit:i,oneLiner:function(){return k.call(this,f,arguments)},saveOriginalSize:function(){return k.call(this,j,arguments)},getOriginalSize:a,offsetPosition:function(){return k.call(this,c,arguments)}});g.extend({sdiv:function(o,m){if(!o||!m){return 0}return o/m}})})(jQuery);